using System;
using MergeLib;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace MergeTest
{
    [TestClass]
    public class MergeLibTest
    {
        [TestMethod]
        public void TestMethod1()
        {
            string[] O = new string[10] { "1", "2", "3", "4", "5", "6", "7", "8", "9", "10" };
            string[] A = new string[11] { "0", "1", "1.5", "2", "3", "4", "4.5", "5", "10", "11", "12" };
            string[] B = new string[10] { "1", "4", "4.1", "4.2", "4.3", "4.4", "7", "8", "9", "10" };
            string[] expectation = new string[34] { "0", "1", 
                                          "================================ Overlapping ================================",
			                              "================================    FileA    ================================",
                                          "1.5", "2", "3", 
                                          "================================    FileO    ================================",
                                          "2", "3", 
                                          "================================     End     ================================",
                                          "4",
                                          "================================ Overlapping ================================",
			                              "================================    FileA    ================================",
                                          "4.5", "5",
                                          "================================    FileB    ================================",
                                          "4.1", "4.2", "4.3", "4.4", "7", "8", "9",
                                          "================================    FileO    ================================",
                                          "5","6","7","8","9",
                                          "================================     End     ================================",
                                          "10","11","12"};
            string[] R;

            var mrg = new MergeLib.Merger(ref A, ref B, ref O);
            mrg.merge(out R, true);
            
            CollectionAssert.AreEqual(expectation, R);
        }
    }
}
